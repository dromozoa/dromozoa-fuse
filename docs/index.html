<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>dromozoa-fuse</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/4.0.0/github-markdown.min.css">
<style>
.markdown-body {
  box-sizing: border-box;
  min-width: 200px;
  max-width: 980px;
  margin: 0 auto;
  padding: 45px;
}
@media (max-width: 767px) {
  .markdown-body {
    padding: 15px;
  }
}
</style>
</head>
<body>
<div class="markdown-body">

<h1>dromozoa-fuse</h1>

<h2>リンク</h2>

<ul>
  <li><a href="https://github.com/libfuse/libfuse">libfuse</a></li>
  <li><a href="https://osxfuse.github.io/">FUSE for macOS</a></li>
  <li>fuse-2.9.2
    <ul>
      <li><a href="fuse-2.9.2/fuse.h.html">fuse.h</a></li>
      <li><a href="fuse-2.9.2/fuse_common.h.html">fuse_common.h</a></li>
    </ul>
  </li>
</ul>

<h2>バージョン</h2>

<table>
  <tr>
    <th>System</th>
    <th>Package</th>
    <th>Version</th>
  </tr>
  <tr>
    <td>CentOS 7</td>
    <td>fuse-devel</td>
    <td>2.9.2</td>
  </tr>
  <tr>
    <td>CentOS 6</td>
    <td>fuse-devel</td>
    <td>2.8.3</td>
  </tr>
  <tr>
    <td>Amazon Linux2</td>
    <td>fuse-devel</td>
    <td>2.9.2</td>
  </tr>
  <tr>
    <td>Debian 8 (jessie)</td>
    <td>libfuse-dev</td>
    <td>2.9.3</td>
  </tr>
</table>

<h2>xattrキャッシュ</h2>

<h3>動機</h3>

<p>
FUSEは属性のキャッシュを持ちますが、一般化された拡張属性のキャッシュはないようです。
Sambaでstreams_xattrオプションを有効にすると、Windowsのファイルメタ情報を拡張属性に保持するようになります。
この設定では、user.DOSATTRIBという名前の拡張属性の取得 (listxattrとgetxattr) が頻繁に行われます。
この拡張属性をキャッシュすることで、高速化を目指します。
</p>

<h3>実験的な実装</h3>

<p>user.DOSATTRIBという名前について、LRUキャッシュを用意して実験します。</p>

<h3>包括的な実装</h3>

<p>メモリ上のデータ構造を直接いじるプロトコルを提供する。</p>

</div>
</body>
</html>
